<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Programming for GPGPUs</title>
    <meta name="viewport" content="width=device-width">
    <!-- syntax highlighting CSS -->
    <link rel="stylesheet" href="/styles/css/syntax.css">
    <!-- Necessary JavaScript -->
    <script src='/js/jquery.collapse.js"'></script>
    <script type='text/javascript' src='/js/jquery.js?ver=1.10.2'></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"></script>
    <!-- RoyalSlider CSS -->
	<link rel='stylesheet' id='new-royalslider-core-css-css'  href='/js/new-royalslider/lib/royalslider/royalslider.css?ver=3.1.7' type='text/css' media='all' />
	<link rel='stylesheet' id='rsMinW-css-css'  href='/js/new-royalslider/lib/royalslider/skins/minimal-white/rs-minimal-white.css?ver=3.1.7' type='text/css' media='all' />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/styles/css/theme.css">
    <!-- Custom Google Font -->
    <link rel='stylesheet' id='googlefonts-css'  href='http://fonts.googleapis.com/css?family=PT+Sans:400&subset=latin' type='text/css' media='all' />
    <!-- Google Analytics -->
    <script type="text/javascript">
    	var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-43423604-1']);
		_gaq.push(['_trackPageview']);
        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- App.net Verification -->
    <div style="display: none">
    	<a href="https://alpha.app.net/bathompso" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://alpha.app.net']);" class='adn-button' rel='me' data-type='follow' data-width='220' data-height='38' data-user-id='@bathompso'>Follow me on App.net</a>
    </div>
    <script src='https://d2zh9g63fcvyrq.cloudfront.net/adn.js'></script>
    <!-- MathJax -->
    <script type="text/javascript" src="https://c328740.ssl.cf1.rackcdn.com/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!-- OpenGraph Tags -->
	<meta name="og:title" content="Programming for GPGPUs">
	<meta name="og:url" content="bathompso.com/blog/programming-for-gpgpu/">
	<meta name="og:type" content="website">
	<meta name="og:locale" content="en_US">
	<meta name="og:site_name" content="">
	
	<meta name="og:image" content="http://www.bathompso.com/media/fullsize/gpgpu-full.jpg">
</head>
<body>
	<div class="header">
		<img class="sitelogo" src="/media/fullsize/logo.png" height="100px" />
		<div class="sitetitle"><a href="/">BATHOMPSO.COM</a></div>
		<div class="mainnav">
			
				
					
						<div class="naventry"><a href="/blog/">Blog</a></div>
					
				
			
				
			
				
					
						<div class="naventry"><a href="/education/">Education</a></div>
					
				
			
				
			
				
					
						<div class="naventry"><a href="/research/">Research</a></div>
					
				
			
				
					
						<div class="naventry"><a href="/resume/">Resumé</a></div>
					
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
				
			
		</div>
		<div class="breadcrumbs">
			<a href="/">Home</a> &#187; <a href="/blog/">Blog</a> &#187; Programming for GPGPUs
		</div>
	</div>
	
	<div class="pagecontent">
    	
    	<div class="blogcontent">
    		<div>&nbsp;</div>

	<img src="/generated/gpgpu-full-575x281-661379.jpg" class="blogmainimg" >

<div class="blogentrytitle">Programming for GPGPUs</div>
<div class="blogentrybyline">23 Nov 2013 &middot; <i>by</i> bathompso &middot; <i>in</i>
	
		&nbsp;<a href="/blog/tag/Research/">Research</a>&nbsp;
	
</div>

<p>My research efficiency depends greatly on the amount of computer processing power I have access to. To detect binary systems, I compare observed stars to models of singles and binaries in a brute-force manner. Each observation is monte-carlo sampled within its errors many times, and the final results is the median of those fits. For an example cluster, there may be:</p>

<ul>
<li>  3000+ stars</li>
<li>  4000+ models</li>
<li>  90+ resamples</li>
</ul>

<p>When I first wrote the analysis software needed for my research, I used the computing language I was most comfortable with: IDL. Version 1, which ran all resamples in order, often took 10+ hours to complete analysis on even a small cluster. To speed things up, I wrote a &#8220;dumb parallel&#8221; version of code. The main IDL routine would spawn many subroutines (for each resample necessary), and then run them in parallel via Unix&#8217;s <em>xargs</em> command. This sped things up from the serial case, but still took 3-4 hours for a decent sized cluster.</p>

<p>Recently, I&#8217;ve begun to lose faith in IDL. While it performs amazingly for vector mathematics, it is proprietary (and I&#8217;m at the whim of whoever sets the yearly price), and it does not have access to some of the more modern functionality available in other programming languages. To wean myself off of my reliance on IDL, I decided to rewrite my binary detection code in Python.</p>

<p>During this rewrite, I also decided to try and speed up my analysis time again, this time by harnessing the massive parallel processing of OpenCL. OpenCL allows hundreds of simultaneous calculations to run on compatible CPUs and GPUs. The version 2 analysis code now parallelizes comparison of each star to all models via OpenCL. Running an analysis of 3000 stars, 4000 models and 90 resamples now takes <em>4 minutes instead of 4 hours</em>.</p>

<p>I&#8217;m currently writing educational material on computational physics using Python, and OpenCL will be one of the topics I touch on. The future of computing is in the parallel processing of today&#8217;s computers, and OpenCL will be a large part of it. If you do any research that involves large amounts of computing time, you may want to look at harnessing the parallel capabilities of the machine you&#8217;re already working on. <a href="http://bathompso.com/education/compphys/" title="Computational Physics">Check out my Computational Physics page to learn more</a>.</p>


<!-- Social Share Buttons -->
<!-- Facebook -->
<div class="socialbutton">
	<div class="fb-like" data-href="http://www.bathompso.com/blog/programming-for-gpgpu/" data-layout="box_count" data-action="like" data-show-faces="true" data-share="false"></div>
</div>
<!-- Twitter -->
<div class="socialbutton">
	<a href="https://twitter.com/share" class="twitter-share-button" data-lang="en" data-count="vertical" data-via="bathompso" data-url="http://www.bathompso.com/blog/programming-for-gpgpu/" data-text="Programming for GPGPUs">Tweet</a>
</div>
<!-- Google+ -->
<div class="socialbutton">
	<div class="g-plusone" data-size="tall" data-href="http://www.bathompso.com/blog/programming-for-gpgpu/"></div>
</div>
<!-- LinkedIn -->
<script src="//platform.linkedin.com/in.js" type="text/javascript"> lang: en_US </script>
<script type="in/share" data-url="http://www.bathompso.com/blog/programming-for-gpgpu/" data-counter="top"></script>

<!-- Facebook Comments -->
<h3 style="clear:both">Comments</h3>
<div class="fb-comments" data-href="bathompso.com/blog/programming-for-gpgpu/" data-num-posts="" data-width="" data-colorscheme=""></div>



<!-- Social Sharing Javascript -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=148947288529876";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

    	</div>
    	
    	<div class="blogside">
    		<span style="color:#aaa;letter-spacing:1px;">LIKE WHAT YOU'RE READING?</span>
    		<div><a href="https://twitter.com/bathompso">
    			<img src="/media/simple-icons/twitter/twitter-64-black.png">
    			<span style="padding-top:15px;float:left;">Follow Me on Twitter</span>
    		</a></div>
    		<div><a href="http://www.linkedin.com/in/bathompso/">
    			<img src="/media/simple-icons/linkedin/linkedin-64-black.png">
    			<span style="padding-top:15px;float:left">Connect With Me on LinkedIn</span>
    		</a></div>
    		<p style="clear:both">&nbsp;</p>
    		<span style="color:#aaa;letter-spacing:1px;padding-top:30px;padding-bottom:-5px;">RECENT TWITTER STATUS<br />&nbsp;</span>
    		<a class="twitter-timeline" href="https://twitter.com/bathompso" data-widget-id="329327309414858752">Tweets by @bathompso</a>
				<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    	</div>
	</div>
	
	
<div style="clear: both; padding-top: 15px;">&nbsp;</div>
<div class="footercontainer">
	<div class="footercontent">
		<img src="/generated/bioface-200x200-353493.png" class="footerbiopic" >
		<div class="footertext">
			<h2>Ben Thompson</h2>
			<p>Master of all things bathompso. Lifelong astrophysicist looking for a new experience in data science. Technology enthusiast and evangelist of all things Apple.</p>
			<div class="footerlink" style="margin-left: 90px;"><a href="/resume/">Resumé</a></div>
			<div class="footerlink"><a href="/research/">Research</a></div>
			<div class="footerlink" style="border: 0"><a href="https://github.com/bathompso/">Code</a></div>
		</div>
		<div class="attributions">bathompso.com is powered by <a href="http://jekyllrb.com">Jekyll</a>, hosted by <a href="http://github.com">GitHub</a>. <img src="/generated/github-icon-footer-20x20-e3d2c4.png" ></div>
	</div>
</div>

</body>
</html>
